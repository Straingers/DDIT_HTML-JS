<!DOCTYPE html>
<html lang="kr">
<head>
	<meta charset="UTF-8">
	<title>정규표현식</title>
	<style type="text/css">
		input {
			margin: 5px;
		}
		div {
			padding: 10px;
			background-color: #E6E6E6;
		}
	</style>
	<script type="text/javascript">
		function regular() {
			var userInfo = document.getElementsByTagName("input");
			var userReg;
			for (var i = 0; i < userInfo.length; i++) {
				// 빈칸 유뮤 확인
				if(userInfo[i].value.trim().length == 0) {
					alert(userInfo[i].title + "이(가) 입력되지 않았습니다.");
					userInfo[i].focus();
					return;
				}
				// 아이디 정규식 확인
				if(userInfo[i].id == "userId"){
					userReg = /^[a-z][a-z0-9_]{5,10}$/;
					if(userInfo[i].value.match(userReg) == null) {
						alert("아이디 형식이 맞지 않습니다.\n빈 칸 없이 5~10 글자. 영문 소문자로 시작. 영문 소문자, 숫자 사용 가능.");
						userInfo[i].focus();
						return;
					}
				}
				// 비밀번호 정규식 확인
				if(userInfo[i].id == "userPw"){
					userReg = 
						/^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,20}$/;
					if(userInfo[i].value.match(userReg) == null) {
						alert("비밀번호 형식이 맞지 않습니다.\n빈 칸 없이 8~20 글자. 영문 소문자, 대문자, 숫자, 특수문자가 반드시 1글자씩 포함.");
						userInfo[i].focus();
						return;
					}
				}
				// 이름 정규식 확인
				if(userInfo[i].id == "userName"){
					userReg = /^[가-힣]{2,5}$/;
					if(userInfo[i].value.match(userReg) == null) {
						alert("이름 형식이 맞지 않습니다.\n빈 칸 없이 한글 2~5 글자.");
						userInfo[i].focus();
						return;
					}
				}
				// 생년월일 정규식 확인
				if(userInfo[i].id == "userBir"){
					userReg = /^\d{4}-\d{2}-\d{2}$/;
					if(userInfo[i].value.match(userReg) == null) {
						alert("생년월일 형식이 맞지 않습니다.");
						userInfo[i].focus();
						return;
					}
				}
				// 휴대폰 정규식 확인
				if(userInfo[i].id == "userTel"){
					userReg = /^\d{3}\d{3,4}\d{4}$/;
					if(userInfo[i].value.match(userReg) == null) {
						alert("전화번호 형식이 맞지 않습니다.");
						userInfo[i].focus();
						return;
					}
				}
				// 이메일 정규식 확인
				if(userInfo[i].id == "userEmail"){
					userReg = 
						/^[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*@[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*.[a-zA-Z]{2,3}$/;
					if(userInfo[i].value.match(userReg) == null) {
						alert("이메일 형식이 맞지 않습니다.");
						userInfo[i].focus();
						return;
					}
				}
			}
			alert("정규표현식 검사 통과")
		}
	</script>
</head>
<body>
	<div>
	<form>
		<fieldset>
			<legend>회원 정보 입력</legend>
			아이디(5~10자) : 
			<input type="text" id="userId" title="아이디"><br>
			비밀번호 : 
			<input type="text" id="userPw" title="비밀번호"><br>
			이름 : 
			<input type="text" id="userName" title="이름"><br>
			생년월일 :
			<input type="date" id="userBir" title="생년월일"><br>
			휴대폰 :
			<input type="text" id="userTel" title="전화번호"
			placeholder="- 제외하고 입력"><br>
			이메일 :
			<input type="text" id="userAddr" name="이메일"><br><br>
			<button type="button" onclick="regular()">전송</button>
			<button type="reset">취소</button>
		</fieldset>
	</form>
	</div>
</body>
</html>